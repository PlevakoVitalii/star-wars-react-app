{"version":3,"sources":["components/header/index.js","components/header/header.jsx","components/spinner/index.js","components/spinner/spinner.jsx","components/error-indicator/index.js","components/error-indicator/error-indicator.jsx","components/error-indicator/death-star.png","services/swapi-service.js","components/random-planet/random-planet.js","components/random-planet/index.js","components/error-boundry/error-boundry.jsx","components/error-boundry/index.js","services/dummy-swapi-service.js","components/error-button/error-button.jsx","components/error-button/index.js","components/item-details/item-details.jsx","components/item-details/index.js","components/hoc-helpers/with-data.jsx","components/swapi-service-context/swapi-service-context.jsx","components/hoc-helpers/with-swapi-service.jsx","components/hoc-helpers/compose.jsx","components/hoc-helpers/with-child-function.jsx","components/sw-components/person-details.jsx","components/sw-components/planet-details.jsx","components/sw-components/starship-details.jsx","components/item-list/item-list.jsx","components/item-list/index.js","components/sw-components/item-lists.jsx","components/row/index.js","components/row/row.jsx","components/pages/people-page.jsx","components/pages/planets-page.jsx","components/pages/starships-page.jsx","components/pages/login-page.jsx","components/pages/secret-page.jsx","components/app/app.jsx","index.js"],"names":["Header","onServiceChange","className","to","onClick","Spinner","class","ErrorIndicator","src","alt","SwapiService","_apiBase","_imageBase","getResource","url","a","fetch","res","ok","Error","status","json","getAllPeople","results","map","_transformPerson","getPerson","id","person","getAllPlanets","_transformPlanet","getPlanet","planet","getAllStarships","_transformStarship","getStarship","starship","getPersonImage","getStarshipImage","getPlanetImage","_extractId","item","match","name","population","rotationPeriod","rotation_period","diameter","model","manufacturer","costInCredits","length","crew","passengers","cargoCapacity","gender","birthYear","birth_year","eyeColor","eye_color","RandomPlanet","state","loading","error","onPlanetLoaded","setState","onError","err","updatePlanet","Math","floor","random","then","catch","updateInterval","this","props","interval","setInterval","clearInterval","errorMessage","hasData","spinner","content","Component","defaultProps","PlanetView","Fragment","ErrorBoundry","hasError","children","DummySwapiService","_people","_planets","_starships","ErrorButton","renderError","foo","bar","Record","field","label","ItemDetails","image","updateItem","prevProps","itemId","getData","getImageUrl","personId","React","Children","child","cloneElement","withData","View","data","update","createContext","SwapiServiceProvider","Provider","SwapiServiceConsumer","Consumer","withSwapiService","mapMethodsToProps","Wrapped","swapiService","serviceProps","compose","funcs","comp","reduceRight","wrapped","f","withChildFunction","fn","StarshipDetails","useParams","ItemList","onItemSelected","renderLabel","items","renderName","PersonList","PlanetList","StarshipList","Row","left","right","PeoplePage","navigate","useNavigate","PlanetsPage","selectedItem","StarshipsPage","LoginPage","isLoggedIn","onLogin","SecretPage","App","params","value","basename","path","element","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e2c7323e.chunk.js","sourcesContent":["import Header from './header';\r\n\r\nexport default Header;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport './header.css';\r\n\r\nconst Header = ({ onServiceChange }) => {\r\n  return (\r\n    <div className=\"header d-flex\">\r\n      <h3>\r\n        <Link to=\"/\">Star DB</Link>\r\n      </h3>\r\n      <ul className=\"d-flex\">\r\n        <li>\r\n          <Link to=\"/people/\">People</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/planets/\">Planets</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/starships/\">Starships</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/login\">Login</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/secret\">Secret</Link>\r\n        </li>\r\n      </ul>\r\n\r\n      <button\r\n        onClick={onServiceChange}\r\n        className=\"btn btn-primary btn-sm\">\r\n        Change service\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import Spinner from './spinner.jsx';\r\n\r\nexport default Spinner;\r\n","import React from 'react'\r\n\r\nimport './spinner.css'\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div class=\"loadingio-spinner-double-ring-7zfb5dyhhd3\">\r\n      <div class=\"ldio-r68duk7jh9r\">\r\n        <div></div>\r\n        <div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n      </div></div>\r\n  )\r\n}\r\n\r\nexport default Spinner;\r\n","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;\r\n","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\nimport icon from './death-star.png';\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"error-indicator\">\r\n      <img src={icon} alt=\"error icon\"/>\r\n      <span className=\"boom\">BOOM!</span>\r\n      <span>\r\n        something has gone terribly wrong\r\n      </span>\r\n      <span>\r\n        (but we already sent droids to fix it)\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","//For get data from https://swapi.dev/api\r\n\r\nexport default class SwapiService {\r\n\r\n  _apiBase = 'https://swapi.dev/api';\r\n  _imageBase = 'https://starwars-visualguide.com/assets/img';\r\n\r\n  getResource = async (url) => {\r\n    const res = await fetch(`${this._apiBase}${url}`)\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`)\r\n    }\r\n    return await res.json();\r\n  }\r\n\r\n  getAllPeople = async () => {\r\n    const res = await this.getResource(`/people/`);\r\n    return res.results.map(this._transformPerson);\r\n  };\r\n\r\n  getPerson = async (id) => {\r\n    const person = await this.getResource(`/people/${id}`);\r\n    return this._transformPerson(person);\r\n  };\r\n\r\n  getAllPlanets = async () => {\r\n    const res = await this.getResource(`/planets/`);\r\n    return res.results.map(this._transformPlanet)\r\n  }\r\n\r\n  getPlanet = async (id) => {\r\n    const planet = await this.getResource(`/planets/${id}`);\r\n    return this._transformPlanet(planet);\r\n  }\r\n\r\n  getAllStarships = async () => {\r\n    const res = await this.getResource(`/starships/`);\r\n    return res.results.map(this._transformStarship)\r\n  }\r\n\r\n  getStarship = async (id) => {\r\n    const starship = await this.getResource(`/starships/${id}`);\r\n    return this._transformStarship(starship);\r\n  }\r\n\r\n  getPersonImage = ({ id }) => {\r\n    return `${this._imageBase}/characters/${id}.jpg`\r\n  }\r\n\r\n  getStarshipImage = ({ id }) => {\r\n    return `${this._imageBase}/starships/${id}.jpg`\r\n  };\r\n\r\n  getPlanetImage = ({ id }) => {\r\n    return `${this._imageBase}/planets/${id}.jpg`\r\n  };\r\n\r\n  _extractId = (item) => {\r\n    const idRegEx = /\\/([0-9]*)\\/$/;\r\n    return item.url.match(idRegEx)[1];\r\n  }\r\n\r\n  _transformPlanet = (planet) => {\r\n    return {\r\n      id: this._extractId(planet),\r\n      name: planet.name,\r\n      population: planet.population,\r\n      rotationPeriod: planet.rotation_period,\r\n      diameter: planet.diameter\r\n    }\r\n  }\r\n\r\n  _transformStarship = (starship) => {\r\n    return {\r\n      id: this._extractId(starship),\r\n      name: starship.name,\r\n      model: starship.model,\r\n      manufacturer: starship.manufacturer,\r\n      costInCredits: starship.costInCredits,\r\n      length: starship.length,\r\n      crew: starship.crew,\r\n      passengers: starship.passengers,\r\n      cargoCapacity: starship.cargoCapacity\r\n    }\r\n  }\r\n\r\n  _transformPerson = (person) => {\r\n    return {\r\n      id: this._extractId(person),\r\n      name: person.name,\r\n      gender: person.gender,\r\n      birthYear: person.birth_year,\r\n      eyeColor: person.eye_color\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Spinner from '../spinner'\r\nimport ErrorIndicator from '../error-indicator'\r\n\r\nimport SwapiService from '../../services/swapi-service'\r\n\r\nimport './random-planet.css';\r\n\r\nexport default class RandomPlanet extends Component {\r\n\r\n  static defaultProps = {\r\n    updateInterval: 10000\r\n  }\r\n\r\n  static propTypes = {\r\n    updateInterval: PropTypes.number\r\n  }\r\n\r\n  SwapiService = new SwapiService();\r\n\r\n  state = {\r\n    planet: {},\r\n    loading: true,\r\n    error: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { updateInterval } = this.props;\r\n    this.updatePlanet();\r\n    this.interval = setInterval(this.updatePlanet, updateInterval);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  onPlanetLoaded = (planet) => {\r\n    this.setState({\r\n      planet,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  onError = (err) => {\r\n    this.setState({\r\n      error: true,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  updatePlanet = () => {\r\n    const id = Math.floor(Math.random() * 17) + 3;\r\n    this.SwapiService\r\n      .getPlanet(id)\r\n      .then(this.onPlanetLoaded)\r\n      .catch(this.onError);\r\n  };\r\n\r\n  render() {\r\n\r\n    const { planet, loading, error } = this.state;\r\n\r\n    //Константа -> тернарный оператор->если error=true отрисуем \r\n    //<ErrorIndicator /> иначе null\r\n    const errorMessage = error ? <ErrorIndicator /> : null;\r\n\r\n    //константа hasData = trueс если у нас не загрузка и не ошибка\r\n    const hasData = !(loading || error)\r\n    //Константы spinner и content с помощью тернарных операторов\r\n    //в зависимости от чему равно loading или true или false и есть ли ошибка\r\n    //отобразят или компоненты или null(ничего)\r\n    //так как Константы spinner и content имеют условия противоположные loading и !loading\r\n    //одновременно они никогда не будут отображаться\r\n\r\n    const spinner = loading && !error ? <Spinner /> : null;\r\n\r\n    //Отрисовуем  данные когда hasData = true\r\n    const content = hasData ? <PlanetView planet={planet} /> : null;\r\n\r\n\r\n\r\n    //Т.к. в первоначальном state loading:true\r\n    //вместо компонента сразу будет показан индикатор загрузки\r\n    //а после получения данных он будет заменен на false\r\n    // ф-ей onPlanetLoaded и отобразяться данные полученые с сервера\r\n\r\n    return (\r\n      <div className=\"random-planet jumbotron rounded\">\r\n        {errorMessage}\r\n        {spinner}\r\n        {content}\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\nconst PlanetView = ({ planet }) => {\r\n\r\n  const { id, name, population,\r\n    rotationPeriod, diameter\r\n  } = planet;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <img className=\"planet-image\"\r\n        src={`https://starwars-visualguide.com/assets/img/planets/${id}.jpg`}\r\n        alt='planet'\r\n      />\r\n      <div>\r\n        <h4>{name}</h4>\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Population</span>\r\n            <span>{population}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Rotation Period</span>\r\n            <span>{rotationPeriod}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Diameter</span>\r\n            <span>{diameter}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import RandomPlanet from './random-planet';\r\n\r\nexport default RandomPlanet;\r\n","import React, { Component } from 'react';\n\nimport ErrorIndicator from '../error-indicator'\n\nimport './error-boundry.css';\n\n//Для отлавливания ошибок при рендеринге или в методах жизненого цикла React компонентов\nexport default class ErrorBoundry extends Component {\n\n  state = {\n    hasError: false\n  };\n\n  componentDidCatch() {\n    this.setState({\n      hasError: true\n    });\n  }\n\n  render() {\n\n    if (this.state.hasError) {\n      return <ErrorIndicator />\n    }\n    return this.props.children;\n  }\n}\n\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;\n","//Для имтитации работы сервера\n\n\nexport default class DummySwapiService {\n\n  _people = [\n    {\n      id: 1,\n      name: 'Bilbo Baggins [TEST DATA]',\n      gender: 'male',\n      birthYear: 'long ago',\n      eyeColor: 'dark brown'\n    },\n\n    {\n      id: 2,\n      name: 'Frodo Baggins [TEST DATA]',\n      gender: 'male',\n      birthYear: 'long ago',\n      eyeColor: 'dark brown'\n    }\n  ];\n\n  _planets = [\n    {\n      id: 1,\n      name: 'Earth [TEST DATA]',\n      population: '7.530.000.000',\n      rotationPeriod: '23 hours 56 seconds',\n      diameter: '12.742 km'\n    },\n    {\n      id: 2,\n      name: 'Venus [TEST DATA]',\n      population: 'not known',\n      rotationPeriod: '243 days',\n      diameter: '12.104 km'\n    }\n  ];\n\n  _starships = [\n    {\n      id: 1,\n      name: 'USS Enterprise [TEST DATA]',\n      model: 'NCC-1701-C',\n      manufacturer: 'Northrop Grumman Shipbuilding',\n      costInCredits: 'not known',\n      length: 'approx 300 meters',\n      crew: 1000,\n      passengers: 50,\n      cargoCapacity: 100\n    }\n  ];\n\n  getAllPeople = async () => {\n    return this._people;\n  };\n\n  getPerson = async () => {\n    return this._people[0];\n  };\n\n  getAllPlanets = async () => {\n    return this._planets;\n  };\n\n  getPlanet = async () => {\n    return this._planets[0]\n  };\n\n  getAllStarships = async () => {\n    return this._starships;\n  };\n\n  getStarship = async () => {\n    return this._starships[0];\n  };\n\n  getPersonImage = () => {\n    return `https://placeimg.com/400/500/people`\n  };\n\n  getStarshipImage = () => {\n    return `https://placeimg.com/600/400/tech`;\n  };\n\n  getPlanetImage = () => {\n    return `https://placeimg.com/400/400/nature`\n  };\n}\n","import React, { Component } from 'react';\n\nimport './error-button.css';\n\nexport default class ErrorButton extends Component {\n\n  state = {\n    renderError: false\n  };\n\n  render() {\n    if (this.state.renderError) {\n      this.foo.bar = 0;\n    }\n\n    return (\n      <button\n        className=\"error-button btn btn-danger btn-lg\"\n        onClick={() => this.setState({renderError: true})}>\n        Throw Error\n      </button>\n    );\n  }\n}\n","import ErrorButton from './error-button';\n\nexport default ErrorButton;\n","import React, { Component } from 'react';\r\n\r\nimport ErrorButton from '../error-button';\r\n\r\n\r\n\r\nimport './item-details.css';\r\n\r\n//Создали компонент Record который описывает что именно будет отображаться\r\n//внутри компонента  описания елемента (  )\r\n//field и label получаем в пропсах, а\r\n//а item мы не можем передать сверху в пропсах т.к. item появляеться \r\n//только после запроса getData из этого компонента\r\n//поэтому item добавляем в Record в ф-ии React.cloneElement(child, { item })\r\nconst Record = ({ item, field, label }) => {\r\n  return (\r\n    <li className=\"list-group-item\">\r\n      <span className=\"term\">{label}</span>\r\n      <span>{item[field]}</span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport {\r\n  Record\r\n};\r\n\r\n//Используем ItemDetails как универсальный компонент рендеринга  деталей елементов\r\n//и для кораблей и для плпнет и людей, что бы не дублировать код\r\n//ItemDetails даже не делает запрос к серверу, это делает SwapiService\r\n\r\nexport default class ItemDetails extends Component {\r\n\r\n\r\n  state = {\r\n    item: null,\r\n    image: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateItem();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.itemId !== prevProps.itemId ||\r\n      this.props.getData !== prevProps.getData ||\r\n      this.props.getImageUrl !== prevProps.getImageUrl) {\r\n      this.updateItem();\r\n    }\r\n  }\r\n\r\n  updateItem() {\r\n    const { itemId, getData, getImageUrl } = this.props;\r\n    if (!itemId) {\r\n      return\r\n    }\r\n    getData(itemId)\r\n      .then((item) => {\r\n        this.setState({\r\n          item,\r\n          image: getImageUrl(item)\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n\r\n    const { item, image } = this.state;\r\n    //Если в state нет item, выведем сообщение\r\n    if (!item) {\r\n      return <span>Select a person from a list</span>;\r\n    }\r\n\r\n    const { name } = item;\r\n\r\n    return (\r\n      <div className=\"item-details card\">\r\n        <img className=\"item-image\"\r\n          src={image}\r\n          alt=\"item\" />\r\n\r\n        <div className=\"card-body\">\r\n          <h4>{name} {this.props.personId}</h4>\r\n          <ul className=\"list-group list-group-flush\">\r\n\r\n            {/* Ф-ия  React.Children.map пройдеться по всем children елементам\r\n          вернет их копию благодаря React.cloneElement и каждой копии елемента child добавит дополнительное св-во { item }\r\n          */}\r\n            {\r\n              React.Children.map(this.props.children, (child) => {\r\n                return React.cloneElement(child, { item });\r\n              })\r\n            }\r\n          </ul>\r\n          <ErrorButton />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import ItemDetails, { Record } from './item-details';\r\n\r\nexport default ItemDetails;\r\n\r\nexport { Record };\r\n","import React, { Component } from 'react';\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator'\r\n\r\n\r\n//Это НОС компонент высшего порядка который создает компоненты <View/>\r\n//с передачей в них данных полученых  с сервера\r\n\r\nconst withData = (View) => {\r\n  return class extends Component {\r\n\r\n    state = {\r\n      data: null,\r\n      loading: true,\r\n      error: false\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (this.props.getData !== prevProps.getData) {\r\n        this.update();\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.update()\r\n    }\r\n\r\n    update() {\r\n      this.setState({\r\n        loading: true,\r\n        error: false\r\n      })\r\n      this.props.getData()\r\n        .then((data) => {\r\n          this.setState({\r\n            data,\r\n            loading: false\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.setState({\r\n            error: true,\r\n            loading: false\r\n          })\r\n        });\r\n    }\r\n\r\n    render() {\r\n      const { data, loading, error } = this.state\r\n\r\n      if (loading) {\r\n        return <Spinner />\r\n      }\r\n      if (error) {\r\n        return <ErrorIndicator />\r\n      }\r\n\r\n      return <View {...this.props} data={data} />\r\n    }\r\n  }\r\n}\r\n\r\nexport default withData;","import React from \"react\";\r\n\r\nconst {\r\n  Provider: SwapiServiceProvider,\r\n  Consumer: SwapiServiceConsumer\r\n} = React.createContext();\r\n\r\nexport{\r\n  SwapiServiceProvider,\r\n  SwapiServiceConsumer\r\n}","import React from \"react\";\r\n\r\nimport { SwapiServiceConsumer } from '../swapi-service-context';\r\n\r\n// withSwapiService - это НОС который принимает компонент Wrapped для передачи через контекс swapiService \r\n\r\n\r\nconst withSwapiService = (mapMethodsToProps) => (Wrapped) => {\r\n  return (props) => {\r\n    return (\r\n      <SwapiServiceConsumer>\r\n        {\r\n          (swapiService) => {\r\n            const serviceProps = mapMethodsToProps(swapiService);\r\n            return (\r\n              <Wrapped {...props} {...serviceProps} />\r\n            )\r\n          }\r\n        }\r\n      </SwapiServiceConsumer>\r\n    )\r\n  }\r\n};\r\n\r\nexport default withSwapiService;","//Ф-ия compose приймет в аргументах набор ф-ий и компонент\r\n// spred  превратит их в масив\r\n//reduceRight пройдеться по масиву етих ф-ий справа на лево\r\n//в крайнюю правую передаст как аргумент оборачиваемый компонент\r\n//в следуюцюю ф-ию результат вычесления предыдущей\r\n//и так далее и в конце вернет результат вычисления \r\n//крайней левой ф-ии\r\n\r\nconst compose = (...funcs) => (comp) => {\r\n  return funcs.reduceRight(\r\n    (wrapped, f) => f(wrapped), comp);\r\n};\r\n\r\nexport default compose;","import React from \"react\";\r\n\r\n//Это НОС который принимае(берет) любой компонент Wrapped\r\n//и задает ему в качестве Child заданую ф-ию fn\r\n//а потом возвращает етот компонент\r\n\r\n\r\nconst withChildFunction = (fn) => (Wrapped) => {\r\n  return (props) => {\r\n    return (\r\n      <Wrapped {...props}>\r\n        {fn}\r\n      </Wrapped>\r\n    )\r\n  };\r\n};\r\n\r\nexport default withChildFunction;","import React from 'react';\r\nimport ItemDetails, { Record } from '../item-details';\r\nimport { withSwapiService } from '../hoc-helpers'\r\n\r\n// В етом файле создали компоненты которые\r\n// будут отображать детали для PersonDetails\r\n\r\n//Компонент PersonDetails возвращает ф-ия которая в аргументах получает\r\n// itemId из props из app.js, и (getData, getImageUrl) из ф-ии mapMethodsToProps\r\n// которая устанавливает правило какие ф-ии из swapiService и в каком виде нужны для PersonDetails\r\n//это делаем что бы не передавать весь swapiService\r\n//т.к. в props мы принимаем { itemId, getData, getImageUrl  } и дальше\r\n//в <ItemDetails> мы передаем так же\r\n// <ItemDetails itemId={itemId} getData={getData} getImageUrl={getData}>\r\n//то заменим эти надписи на {props}\r\n\r\nconst PersonDetails = (props) => {\r\n  return (\r\n    <ItemDetails {...props} >\r\n\r\n      {/* Передаем в теле компонента <ItemDetails>\r\nнесколько компонентов <Record>, который определяет какие данные отображать,\r\nа доступ к ним получим через (this.props.children)*/}\r\n      {/* field - это поле в обьекте который возвращает ф-ия  _transformStarship\r\nв SwapiService, а label - это просто название строки в компоненте при отрисовке на странице*/}\r\n      <Record field=\"gender\" label=\"Gender\" />\r\n      <Record field=\"eyeColor\" label=\"Eye Color\" />\r\n    </ItemDetails>\r\n  );\r\n};\r\n\r\nconst mapMethodsToProps = (swapiService) => {\r\n  //Эта ф-ия mapMethodsToProps получает на вход swapiService\r\n  //и определяет какие ф-ии достать для PersonDetails \r\n  // и как их назвать (getData:swapiService.getPerson)\r\n  //что бы передать их дальше ItemDetails в props\r\n  \r\n    return {\r\n      getData: swapiService.getPerson,\r\n      getImageUrl: swapiService.getPersonImage\r\n    }\r\n  };\r\n\r\n\r\n//Обернули компонент PersonDetails в НОС withSwapiService.\r\n//Форма вызова ф-ии сооветсвует форме при создании ф-ии записи \r\n//const withSwapiService = (mapMethodsToProps) => (Wrapped) => {}\r\n//в with-swapi-service.jsx\r\nexport default withSwapiService(mapMethodsToProps)(PersonDetails);\r\n\r\n\r\n","import React from 'react';\r\nimport ItemDetails, { Record } from '../item-details';\r\nimport { withSwapiService } from '../hoc-helpers';\r\n\r\nconst PlanetDetails = (props) => {\r\n  return (\r\n    <ItemDetails {...props}>\r\n      <Record field=\"population\" label=\"Population\" />\r\n      <Record field=\"rotationPeriod\" label=\"Rotation Period\" />\r\n      <Record field=\"diameter\" label=\"Diameter\" />\r\n    </ItemDetails>\r\n  )\r\n};\r\n\r\nconst mapMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getPlanet,\r\n    getImageUrl: swapiService.getPlanetImage\r\n  }\r\n}\r\n\r\nexport default withSwapiService(mapMethodsToProps)(PlanetDetails);\r\n\r\n","import React from 'react';\r\n\r\nimport ItemDetails, { Record } from '../item-details';\r\n\r\nimport { SwapiServiceConsumer } from '../swapi-service-context';\r\n\r\nimport { useParams} from \"react-router-dom\";\r\n// В етом файле создали компоненты которые\r\n// будут отображать детали для PersonDetails\r\n\r\nconst StarshipDetails = () => {\r\n  \r\n// //Ф-ия благодаря хуку useParams() получит id из URL\r\n// // и передасте ее в  <StarshipDetails itemId={id} />\r\n\r\n  let { id } = useParams();\r\n  return (\r\n//Для передачи контекста (swapiService) можно исользовать props, Provider-Consumer или HOC\r\n//В єто компоненте мі используем Provider-Consumer \r\n    //Испозуем SwapiServiceConsumer для получения swapiService,\r\n    // переданного через контекст из app.js из SwapiServiceProvider на\r\n    //Дале деструктруируем из  swapiService нужные ф-ии {getPlanet, getPlanetImage}\r\n    //По правилам SwapiServiceConsumer должен принимать ф-ию\r\n \r\n\r\n    <SwapiServiceConsumer>\r\n      {\r\n        ({ getStarship, getStarshipImage}) => {\r\n          return (\r\n            <ItemDetails\r\n              itemId={id}\r\n              getData={getStarship}\r\n              getImageUrl={getStarshipImage}>\r\n\r\n              <Record field=\"model\" label=\"Model\" />\r\n              <Record field=\"length\" label=\"Length\" />\r\n              <Record field=\"costInCredits\" label=\"Cost\" />\r\n            </ItemDetails>\r\n          )\r\n        }\r\n      }\r\n    </SwapiServiceConsumer>\r\n  );\r\n};\r\n\r\n\r\nexport default StarshipDetails;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nimport './item-list.css';\r\n\r\nconst ItemList = (props) => {\r\n\r\n  const { data, onItemSelected, children: renderLabel } = props;\r\n\r\n  const items = data.map((item) => {\r\n\r\n    const { id } = item\r\n\r\n    const label = renderLabel(item)\r\n\r\n    return (\r\n      <li className=\"list-group-item\"\r\n        key={id}\r\n        onClick={() => onItemSelected(id)}>\r\n        {label}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <ul className=\"item-list list-group\">\r\n      {items}\r\n    </ul>\r\n  );\r\n};\r\n\r\nItemList.defaultProps = {\r\n  onItemSelected: () => { }\r\n}\r\n\r\nItemList.propTypes = {\r\n  onItemSelected: PropTypes.func,\r\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n}\r\n\r\n\r\n\r\nexport default ItemList;\r\n\r\n","import ItemList from './item-list';\r\n\r\nexport default ItemList;\r\n\r\n","import React from 'react';\r\nimport ItemList from '../item-list';\r\nimport {\r\n  withData,\r\n  withSwapiService,\r\n  withChildFunction,\r\n  compose\r\n} from '../hoc-helpers';\r\n\r\nconst renderName = ({ name }) => <span>{name}</span>;\r\nconst renderModelAndName = ({ model, name }) => <span>{name} ({model})</span>;\r\n\r\nconst mapPersonMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getAllPeople\r\n  };\r\n};\r\n\r\nconst mapPlanetMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getAllPlanets\r\n  };\r\n};\r\n\r\nconst mapStarshipMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getAllStarships\r\n  };\r\n};\r\n\r\nconst PersonList = compose(\r\n  withSwapiService(mapPersonMethodsToProps),\r\n  withData,\r\n  withChildFunction(renderName)\r\n)(ItemList);\r\n\r\nconst PlanetList = compose(\r\n  withSwapiService(mapPlanetMethodsToProps),\r\n  withData,\r\n  withChildFunction(renderName)\r\n)(ItemList);\r\n\r\nconst StarshipList = compose(\r\n  withSwapiService(mapStarshipMethodsToProps),\r\n  withData,\r\n  withChildFunction(renderModelAndName)\r\n)(ItemList);\r\n\r\n\r\nexport {\r\n  PersonList,\r\n  PlanetList,\r\n  StarshipList\r\n};\r\n","import Row from './row.jsx';\r\n\r\nexport default Row;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nimport './row.css';\r\n\r\nconst Row = ({ left, right }) => {\r\n  return (\r\n    <div className=\"row mb2\">\r\n      <div className=\"col-md-6\">\r\n        {left}\r\n      </div>\r\n      <div className=\"col-md-6\">\r\n        {right}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nRow.propTypes = {\r\n  left: PropTypes.node,\r\n  right: PropTypes.node\r\n}\r\n\r\nexport default Row;\r\n","import React from 'react';\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { PersonDetails, PersonList } from '../sw-components';\r\nimport Row from '../row';\r\n\r\nconst PeoplePage = () => {\r\n  let navigate = useNavigate()\r\n  let { id } = useParams();\r\n  const path = \"/people/\"\r\n  return (\r\n\r\n    <Row\r\n      left={<PersonList onItemSelected={(id) => navigate(`${path + id}`)} />}\r\n      right={<PersonDetails itemId={id} />} />\r\n  );\r\n}\r\n\r\nexport default PeoplePage\r\n","import React, { Component } from 'react';\r\nimport { PlanetDetails, PlanetList } from '../sw-components';\r\nimport Row from '../row';\r\n\r\nexport default class PlanetsPage extends Component {\r\n\r\n  state = {\r\n    selectedItem: null\r\n  };\r\n\r\n  onItemSelected = (selectedItem) => {\r\n    this.setState({ selectedItem });\r\n  };\r\n\r\n  render() {\r\n    const { selectedItem } = this.state;\r\n\r\n    return (\r\n      <Row\r\n        left={<PlanetList onItemSelected={this.onItemSelected} />}\r\n        right={<PlanetDetails itemId={selectedItem} />} />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { StarshipList } from '../sw-components';\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst StarshipsPage = () => {\r\n  let navigate = useNavigate();\r\n  return (\r\n    <StarshipList\r\n      onItemSelected={(id) => navigate(id)} />\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default StarshipsPage;","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst LoginPage = ({ isLoggedIn, onLogin }) => {\r\n\r\n  if (isLoggedIn) {\r\n    return <Navigate to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"jumbotron\">\r\n      <p>Login to see secret page!</p>\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        onClick={onLogin}>\r\n        Login\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\n//Страница к которой будут иметь  доступ только залогиненые пользователи\r\n\r\nconst SecretPage = ({ isLoggedIn }) => {\r\n\r\n  if (isLoggedIn) {\r\n    return (\r\n      <div className=\"jumbotron text-center\">\r\n        <h3>This page is full of secrets!!!</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <Navigate to=\"/login\" />;\r\n\r\n};\r\n\r\nexport default SecretPage;\r\n","import React, { Component } from 'react';\r\n\r\nimport Header from '../header';\r\nimport RandomPlanet from '../random-planet';\r\nimport ErrorBoundry from '../error-boundry';\r\nimport SwapiService from '../../services/swapi-service';\r\nimport DummySwapiService from '../../services/dummy-swapi-service';\r\n\r\nimport {\r\n  PeoplePage,\r\n  PlanetsPage,\r\n  StarshipsPage,\r\n  LoginPage,\r\n  SecretPage\r\n} from '../pages';\r\nimport { StarshipDetails } from '../sw-components'\r\nimport { SwapiServiceProvider } from '../swapi-service-context';\r\n\r\nimport './app.css';\r\n\r\nimport {\r\n  Routes,\r\n  Route,\r\n  Navigate\r\n} from \"react-router-dom\";\r\n\r\nimport { HashRouter as Router } from 'react-router-dom'\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    swapiService: new SwapiService(),\r\n    isLoggedIn: false\r\n  }\r\n\r\n  onLogin = () => {\r\n    this.setState({\r\n      isLoggedIn: true\r\n    });\r\n  };\r\n\r\n  onServiceChange = () => {\r\n    this.setState(({ swapiService }) => {\r\n      const Service = swapiService instanceof SwapiService ?\r\n        DummySwapiService : SwapiService\r\n      return {\r\n        swapiService: new Service(),\r\n        isLoggedIn: false\r\n      };\r\n    });\r\n  }\r\n\r\n  getStarshipDetails(props) {\r\n    return <StarshipDetails itemId={props.match.params.id} />;\r\n  }\r\n  render() {\r\n    const { isLoggedIn } = this.state;\r\n\r\n    return (\r\n      <ErrorBoundry>\r\n        <SwapiServiceProvider value={this.state.swapiService}>\r\n          <Router basename=\"/\">\r\n            <div className=\"stardb-app\">\r\n              <Header onServiceChange={this.onServiceChange} />\r\n              <RandomPlanet />\r\n              <Routes>\r\n                <Route path=\"/\" element={<h2>Welcome to StarDB</h2>} />\r\n                <Route path=\"/people/\" element={<PeoplePage />} />\r\n                <Route path=\"/people/:id\" element={<PeoplePage />} />\r\n                <Route path=\"/planets\" element={<PlanetsPage />} />\r\n                <Route path=\"/starships\" exact element={<StarshipsPage />} />\r\n                <Route path=\"/starships/:id\" element={<StarshipDetails />} />\r\n                <Route\r\n                  path=\"/login\"\r\n                  element={<LoginPage\r\n                    isLoggedIn={isLoggedIn}\r\n                    onLogin={this.onLogin} />\r\n                  } />\r\n\r\n                <Route\r\n                  path=\"/secret\"\r\n                  element={<SecretPage\r\n                    isLoggedIn={isLoggedIn} />} />\r\n\r\n                <Route\r\n                  path=\"*\"\r\n                  element={<Navigate to=\"/\" />}\r\n                />\r\n              </Routes>\r\n            </div>\r\n          </Router>\r\n        </SwapiServiceProvider>\r\n      </ErrorBoundry>\r\n    );\r\n  }\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/app';\r\n\r\nReactDOM.render(<App />,\r\n  document.getElementById('root'));\r\n"],"sourceRoot":""}